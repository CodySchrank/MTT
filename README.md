# C# DTOs to Typescript Interfaces

MTT generates TypeScript interfaces from .NET DTOs. It implements most major features of the current TypeScript specification. This utility could be preferred over some others as it is completely independent of your IDE or workflow, because it uses a MSBUILD task and converts the code directly from the source. This means its great for .Net Core and VS Code.

## Install

Using dotnet CLI:

`dotnet add package MTT`

`dotnet restore`

Then in .csproj add a Target.

## Options

_WorkingDirectory_ is the input directory of the c# dtos

_ConvertDirectory_ is the output directory of the ts interfaces

_AutoGeneratedTag_ (default true) show "/\* Auto Generated \*/" at the top of every file

_PathStyle_ if set to _Kebeb_, change the file and directory names to kebeb-case. If it isn't set, the default behaviour applies which leaves the directory names as they are in the working directory and change the file names to camelCase.

## Example

### .csproj

```XML
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netcoreapp2.1</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="MTT" Version="0.6.1"/>
  </ItemGroup>

  <Target Name="Convert" BeforeTargets="PrepareForBuild">
    <ConvertMain WorkingDirectory="Resources/" ConvertDirectory="models/"/>
  </Target>

</Project>
```

### Vehicle.cs

```C#
using System.Collections.Generic;
using Example.Resources.Parts;

namespace Example.Resources.Vehicles
{
    public class Vehicle : Entity
    {
        // this is a top level comment
        public int Year { get; set; }
        public string Make { get; set; }
        public string Model { get; set; }
        public int? Mileage;
        public VehicleState Condition { get; set; }  // this is an enum of type int
        public virtual ICollection<Part> Parts { get; set; }
    }
}
```

### vehicle.ts

```ts
/* Auto Generated */

import { Entity } from "../entity"
import { VehicleState } from "./vehicleState"
import { Part } from "../Parts/part"

export interface Vehicle extends Entity {
    year: number;
    make: string;
    model: string;
    mileage?: number;
    condition: VehicleState;
    parts: Part[];
}
```

## Types

It correctly converts the following C# types to the equivalent typescript:

* bool
* byte
* decimal
* double
* float
* int
* uint
* long
* sbyte
* short
* string
* ulong
* ushort
* Boolean
* Byte
* Char
* DateTime
* Decimal
* Double
* Int16
* Int32
* Int64
* SByte
* UInt16
* UInt32
* UInt64
* Array
* Collection
* Enumerbale
* IEnumerable
* ICollection
* Enum
* Optional
* virtual
* abstract

## Notes

**If a _Convert Directory_ is supplied, it will be deleted everytime script is ran and will be remade**

Comments like `//` are ignored in c# files.  Comments like `/* */` could cause undefined behavior.

Since javascript does not have an enum, but typescript does, only enums of type int will be supported for simplicity.

Read more about typescript enums [here](https://www.typescriptlang.org/docs/handbook/enums.html)

Tested on Windows 10, macOS Mojave, and Ubuntu 18.04

Follows the case and naming conventions of each language.

Thanks to natemcmaster [this project](https://github.com/natemcmaster/msbuild-tasks) really helped me out!
